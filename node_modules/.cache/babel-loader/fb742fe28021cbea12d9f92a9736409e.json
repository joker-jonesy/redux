{"ast":null,"code":"import _slicedToArray from \"/Users/lukejones/GitHub/redux/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lukejones/GitHub/redux/src/components/card/Card.js\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner, faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Card(props) {\n  const _React$useState = React.useState(\"loading\"),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        load = _React$useState2[0],\n        setLoad = _React$useState2[1];\n\n  const _React$useState3 = React.useState({\n    img: false,\n    spin: true,\n    error: false\n  }),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        rend = _React$useState4[0],\n        setRend = _React$useState4[1];\n\n  const _React$useState5 = React.useState(0),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        seconds = _React$useState6[0],\n        setTime = _React$useState6[1];\n\n  React.useEffect(() => {\n    let interval = null;\n    interval = setInterval(() => {\n      setTime(seconds + 1);\n\n      if (load) {\n        if (props.imageurl === null) {\n          setRend({\n            img: false,\n            spin: false,\n            error: true\n          });\n        } else {\n          setRend({\n            img: true,\n            spin: false,\n            error: false\n          });\n        }\n      } else {\n        if (seconds > 3) {\n          setRend({\n            img: false,\n            spin: false,\n            error: true\n          });\n        } else {\n          setRend({\n            img: false,\n            spin: true,\n            error: false\n          });\n        }\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [rend, seconds, load]);\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, rend.img && React.createElement(\"img\", {\n    onLoad: () => setLoad(true),\n    onError: () => setLoad(false),\n    src: props.imageurl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), rend.spin && React.createElement(FontAwesomeIcon, {\n    icon: faSpinner,\n    spin: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), rend.error && React.createElement(FontAwesomeIcon, {\n    icon: faExclamationCircle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }));\n}\n\nexport default Card;","map":{"version":3,"sources":["/Users/lukejones/GitHub/redux/src/components/card/Card.js"],"names":["React","FontAwesomeIcon","faSpinner","faExclamationCircle","Card","props","useState","load","setLoad","img","spin","error","rend","setRend","seconds","setTime","useEffect","interval","setInterval","imageurl","clearInterval"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,eAAR,QAA8B,gCAA9B;AACA,SAAQC,SAAR,EAAmBC,mBAAnB,QAA6C,mCAA7C;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAoB;AAAA,0BACQL,KAAK,CAACM,QAAN,CAAe,SAAf,CADR;AAAA;AAAA,QACTC,IADS;AAAA,QACHC,OADG;;AAAA,2BAEQR,KAAK,CAACM,QAAN,CAAe;AACnCG,IAAAA,GAAG,EAAC,KAD+B;AAEnCC,IAAAA,IAAI,EAAC,IAF8B;AAGnCC,IAAAA,KAAK,EAAC;AAH6B,GAAf,CAFR;AAAA;AAAA,QAETC,IAFS;AAAA,QAEHC,OAFG;;AAAA,2BAOWb,KAAK,CAACM,QAAN,CAAe,CAAf,CAPX;AAAA;AAAA,QAOTQ,OAPS;AAAA,QAOAC,OAPA;;AAShBf,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAI;AAEhB,QAAIC,QAAQ,GAAC,IAAb;AAEAA,IAAAA,QAAQ,GAAGC,WAAW,CAAC,MAAI;AACvBH,MAAAA,OAAO,CAACD,OAAO,GAAC,CAAT,CAAP;;AACA,UAAGP,IAAH,EAAQ;AACJ,YAAGF,KAAK,CAACc,QAAN,KAAiB,IAApB,EAAyB;AACrBN,UAAAA,OAAO,CAAC;AACJJ,YAAAA,GAAG,EAAE,KADD;AAEJC,YAAAA,IAAI,EAAC,KAFD;AAGJC,YAAAA,KAAK,EAAE;AAHH,WAAD,CAAP;AAKH,SAND,MAMK;AACDE,UAAAA,OAAO,CAAC;AACJJ,YAAAA,GAAG,EAAE,IADD;AAEJC,YAAAA,IAAI,EAAC,KAFD;AAGJC,YAAAA,KAAK,EAAE;AAHH,WAAD,CAAP;AAKH;AACJ,OAdD,MAcK;AACD,YAAGG,OAAO,GAAC,CAAX,EAAa;AACTD,UAAAA,OAAO,CAAC;AACJJ,YAAAA,GAAG,EAAE,KADD;AAEJC,YAAAA,IAAI,EAAC,KAFD;AAGJC,YAAAA,KAAK,EAAE;AAHH,WAAD,CAAP;AAKH,SAND,MAMK;AACDE,UAAAA,OAAO,CAAC;AACJJ,YAAAA,GAAG,EAAE,KADD;AAEJC,YAAAA,IAAI,EAAC,IAFD;AAGJC,YAAAA,KAAK,EAAE;AAHH,WAAD,CAAP;AAKH;AACJ;AACJ,KA/BqB,EA+BpB,IA/BoB,CAAtB;AAiCA,WAAM,MAAKS,aAAa,CAACH,QAAD,CAAxB;AAEH,GAvCD,EAuCE,CAACL,IAAD,EAAME,OAAN,EAAcP,IAAd,CAvCF;AAyCA,SACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKK,IAAI,CAACH,GAAL,IAAU;AAAK,IAAA,MAAM,EAAE,MAAID,OAAO,CAAC,IAAD,CAAxB;AAAgC,IAAA,OAAO,EAAE,MAAIA,OAAO,CAAC,KAAD,CAApD;AAA6D,IAAA,GAAG,EAAEH,KAAK,CAACc,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,EAEKP,IAAI,CAACF,IAAL,IAAW,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAER,SAAvB;AAAkC,IAAA,IAAI,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFhB,EAGKU,IAAI,CAACD,KAAL,IAAY,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAER,mBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHjB,CADJ;AAOH;;AAED,eAAeC,IAAf","sourcesContent":["import React from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSpinner, faExclamationCircle} from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Card(props){\n    const [load, setLoad] = React.useState(\"loading\");\n    const [rend, setRend] = React.useState({\n        img:false,\n        spin:true,\n        error:false\n    });\n    const [seconds, setTime] = React.useState(0);\n\n    React.useEffect(()=>{\n\n        let interval=null;\n\n        interval = setInterval(()=>{\n            setTime(seconds+1);\n            if(load){\n                if(props.imageurl===null){\n                    setRend({\n                        img: false,\n                        spin:false,\n                        error: true\n                    });\n                }else{\n                    setRend({\n                        img: true,\n                        spin:false,\n                        error: false\n                    });\n                }\n            }else{\n                if(seconds>3){\n                    setRend({\n                        img: false,\n                        spin:false,\n                        error: true\n                    });\n                }else{\n                    setRend({\n                        img: false,\n                        spin:true,\n                        error: false\n                    });\n                }\n            }\n        },1000);\n\n        return()=> clearInterval(interval);\n\n    },[rend,seconds,load]);\n\n    return(\n        <div className=\"card\">\n            {rend.img&&<img onLoad={()=>setLoad(true)} onError={()=>setLoad(false)} src={props.imageurl}/>}\n            {rend.spin&&<FontAwesomeIcon icon={faSpinner} spin/>}\n            {rend.error&&<FontAwesomeIcon icon={faExclamationCircle}/>}\n        </div>\n    )\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}