{"ast":null,"code":"var _jsxFileName = \"/Users/lukejones/GitHub/redux/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Home from \"./components/home/Home\";\nimport About from \"./components/about/About\";\nimport Products from \"./components/products/Products\";\nimport FirebaseProducts from \"./components/firebaseProducts/FireBaseProducts\";\nimport Product from \"./components/products/Product\";\nimport SignUpPage from \"./components/signing/SignUp\";\nimport SignInPage from \"./components/signing/SignIn\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport fire from \"./firebase/Fire\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { initCart, checkSignIn, currentUser } from \"./redux/actions/setActions\";\n\nfunction App(props) {\n  const change = useSelector(state => state.change);\n  const dispatch = useDispatch();\n  const db = fire.firestore();\n  React.useEffect(() => {\n    let newItems = [];\n    db.collection(\"products\").get().then(function (snapshot) {\n      snapshot.forEach(function (doc) {\n        const object = doc.data();\n        let item = {\n          color: object.color,\n          cost: {\n            USA: object.cost.USA,\n            CANADA: object.cost.CANADA,\n            UK: object.cost.UK\n          },\n          name: object.name,\n          type: object.type,\n          id: doc.id\n        };\n        newItems.push(item);\n      });\n      dispatch(initCart(newItems));\n    });\n    fire.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        dispatch(checkSignIn(true), currentUser(user));\n      } else {\n        dispatch(checkSignIn(false), currentUser({\n          name: \"\"\n        }));\n      }\n    });\n  }, [db, dispatch, change]);\n\n  const SignOut = () => {\n    fire.auth().signOut().then(function () {// Sign-out successful.\n    }).catch(function (error) {// An error happened.\n    });\n  };\n\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Home\"), React.createElement(Link, {\n    to: \"/about\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"About\"), React.createElement(Link, {\n    to: \"/fireproducts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Products\"), React.createElement(Link, {\n    to: \"/product/1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Product\"), React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(Link, {\n    to: \"/signin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Sign In\"), React.createElement(\"button\", {\n    onClick: SignOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Sign Out\")), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/about\",\n    component: About,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/fireproducts\",\n    component: FirebaseProducts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/product/:id\",\n    component: Product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/signup\",\n    component: SignUpPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/signin\",\n    component: SignInPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/lukejones/GitHub/redux/src/App.js"],"names":["React","Home","About","Products","FirebaseProducts","Product","SignUpPage","SignInPage","BrowserRouter","Router","Switch","Route","Link","fire","useSelector","useDispatch","initCart","checkSignIn","currentUser","App","props","change","state","dispatch","db","firestore","useEffect","newItems","collection","get","then","snapshot","forEach","doc","object","data","item","color","cost","USA","CANADA","UK","name","type","id","push","auth","onAuthStateChanged","user","SignOut","signOut","catch","error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,gBAAP,MAA6B,gDAA7B;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,SACIC,aAAa,IAAIC,MADrB,EAEIC,MAFJ,EAGIC,KAHJ,EAIIC,IAJJ,QAKO,kBALP;AAMA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,QAAR,EAAkBC,WAAlB,EAA+BC,WAA/B,QAAiD,4BAAjD;;AAEA,SAASC,GAAT,CAAaC,KAAb,EAAoB;AAChB,QAAMC,MAAM,GAAGP,WAAW,CAACQ,KAAK,IAAEA,KAAK,CAACD,MAAd,CAA1B;AACA,QAAME,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,EAAE,GAAGX,IAAI,CAACY,SAAL,EAAX;AAEAzB,EAAAA,KAAK,CAAC0B,SAAN,CAAgB,MAAM;AAClB,QAAIC,QAAQ,GAAG,EAAf;AAEAH,IAAAA,EAAE,CAACI,UAAH,CAAc,UAAd,EAA0BC,GAA1B,GAAgCC,IAAhC,CAAqC,UAAUC,QAAV,EAAoB;AACrDA,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAUC,GAAV,EAAe;AAC5B,cAAMC,MAAM,GAAGD,GAAG,CAACE,IAAJ,EAAf;AAEA,YAAIC,IAAI,GAAG;AACPC,UAAAA,KAAK,EAAEH,MAAM,CAACG,KADP;AAEPC,UAAAA,IAAI,EAAE;AACFC,YAAAA,GAAG,EAAEL,MAAM,CAACI,IAAP,CAAYC,GADf;AAEFC,YAAAA,MAAM,EAAEN,MAAM,CAACI,IAAP,CAAYE,MAFlB;AAGFC,YAAAA,EAAE,EAAEP,MAAM,CAACI,IAAP,CAAYG;AAHd,WAFC;AAOPC,UAAAA,IAAI,EAAER,MAAM,CAACQ,IAPN;AAQPC,UAAAA,IAAI,EAAET,MAAM,CAACS,IARN;AASPC,UAAAA,EAAE,EAACX,GAAG,CAACW;AATA,SAAX;AAYAjB,QAAAA,QAAQ,CAACkB,IAAT,CAAcT,IAAd;AACH,OAhBD;AAkBAb,MAAAA,QAAQ,CAACP,QAAQ,CAACW,QAAD,CAAT,CAAR;AACH,KApBD;AAsBAd,IAAAA,IAAI,CAACiC,IAAL,GAAYC,kBAAZ,CAA+B,UAASC,IAAT,EAAe;AAC1C,UAAIA,IAAJ,EAAU;AACNzB,QAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,EAAoBC,WAAW,CAAC8B,IAAD,CAA/B,CAAR;AACH,OAFD,MAEO;AACHzB,QAAAA,QAAQ,CAACN,WAAW,CAAC,KAAD,CAAZ,EAAqBC,WAAW,CAAC;AAACwB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAhC,CAAR;AACH;AACJ,KAND;AAQH,GAjCD,EAiCG,CAAClB,EAAD,EAAID,QAAJ,EAAaF,MAAb,CAjCH;;AAmCA,QAAM4B,OAAO,GAAG,MAAI;AAChBpC,IAAAA,IAAI,CAACiC,IAAL,GAAYI,OAAZ,GAAsBpB,IAAtB,CAA2B,YAAW,CAClC;AACH,KAFD,EAEGqB,KAFH,CAES,UAASC,KAAT,EAAgB,CACrB;AACH,KAJD;AAKH,GAND;;AAQA,SACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,EAGI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,EAII,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,EAKI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,EAMI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANJ,EAOI;AAAQ,IAAA,OAAO,EAAEH,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,CADJ,EAUI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,GAAb;AAAkB,IAAA,KAAK,MAAvB;AAAwB,IAAA,SAAS,EAAEhD,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,QAAb;AAAuB,IAAA,SAAS,EAAEC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,eAAb;AAA8B,IAAA,SAAS,EAAEE,gBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,cAAb;AAA6B,IAAA,SAAS,EAAEC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,SAAb;AAAwB,IAAA,SAAS,EAAEC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,SAAb;AAAwB,IAAA,SAAS,EAAEC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CAVJ,CADJ,CADJ;AAuBH;;AAID,eAAeY,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Home from \"./components/home/Home\";\nimport About from \"./components/about/About\";\nimport Products from \"./components/products/Products\";\nimport FirebaseProducts from \"./components/firebaseProducts/FireBaseProducts\";\nimport Product from \"./components/products/Product\";\nimport SignUpPage from \"./components/signing/SignUp\";\nimport SignInPage from \"./components/signing/SignIn\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n} from \"react-router-dom\";\nimport fire from \"./firebase/Fire\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport {initCart, checkSignIn, currentUser} from \"./redux/actions/setActions\";\n\nfunction App(props) {\n    const change = useSelector(state=>state.change);\n    const dispatch = useDispatch();\n    const db = fire.firestore();\n\n    React.useEffect(() => {\n        let newItems = [];\n\n        db.collection(\"products\").get().then(function (snapshot) {\n            snapshot.forEach(function (doc) {\n                const object = doc.data();\n\n                let item = {\n                    color: object.color,\n                    cost: {\n                        USA: object.cost.USA,\n                        CANADA: object.cost.CANADA,\n                        UK: object.cost.UK\n                    },\n                    name: object.name,\n                    type: object.type,\n                    id:doc.id\n                };\n\n                newItems.push(item);\n            });\n\n            dispatch(initCart(newItems));\n        });\n\n        fire.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                dispatch(checkSignIn(true), currentUser(user));\n            } else {\n                dispatch(checkSignIn(false), currentUser({name:\"\"}));\n            }\n        });\n\n    }, [db,dispatch,change]);\n\n    const SignOut = ()=>{\n        fire.auth().signOut().then(function() {\n            // Sign-out successful.\n        }).catch(function(error) {\n            // An error happened.\n        });\n    }\n\n    return (\n        <Router>\n            <div className=\"App\">\n                <nav>\n                    <Link to={\"/\"}>Home</Link>\n                    <Link to={\"/about\"}>About</Link>\n                    <Link to={\"/fireproducts\"}>Products</Link>\n                    <Link to={\"/product/1\"}>Product</Link>\n                    <Link to={\"/signup\"}>Sign Up</Link>\n                    <Link to={\"/signin\"}>Sign In</Link>\n                    <button onClick={SignOut}>Sign Out</button>\n                </nav>\n                <Switch>\n                    <Route path={\"/\"} exact component={Home}/>\n                    <Route path={\"/about\"} component={About} />\n                    <Route path={\"/fireproducts\"} component={FirebaseProducts} />\n                    <Route path={\"/product/:id\"} component={Product}/>\n                    <Route path={\"/signup\"} component={SignUpPage}/>\n                    <Route path={\"/signin\"} component={SignInPage}/>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}